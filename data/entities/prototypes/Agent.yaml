tags: [agent]
physics:
  - [rect, -10, -10, 20, 20]
navHeight: { x: 0, y: 0 }
behavior:
  canBePlayer: yes
  camScale: 2
  moveSpeed: 100
  inventorySlots: 2
  inventorySize: null
  inventoryHolder: hands
model:
  speechBubble:
    origin: speechBubbleOrigin
  skeleton:
    - name: speechBubbleOrigin
      pos: { x: 0, y: -16 }
    - name: gazeTarget
      pos: { x: 100, y: 0 }
    - name: hands
      pos: { x: 0, y: 10 }
    - name: bodyPivot
      children:
        - name: body
          render:
            as: sprite
            sprite: agent
            anchor: center
            angle: 90
            z: 1
          ik:
            naturalDirection: { x: 0, y: -1 }
          children:
            - name: rightEyeSocket
              pos: { x: 0, y: -4 }
              children:
                - name: rightEye
                  pos: { x: -1, y: 0 }
                  render: &eye
                    as: rect
                    size: [1, 1]
                    scale: { x: 1, y: 3 }
                    anchor: center
                    color: lime
                    z: 1
                  ik:
                    target: [gazeTarget, 1]
            - name: leftEyeSocket
              pos: { x: -4, y: -4 }
              children:
                - name: leftEye
                  pos: { x: -1, y: 0 }
                  render: *eye
                  ik:
                    target: [gazeTarget, 1]
        - name: gazeSource
          pos: { x: 0, y: -5 }
          ik:
            target: [gazeTarget, 1]
  tentacles:
    - &ht
      name: htA
      bone: body
      render:
        color: xt248
        cap: square
        z: 0
      pos: { x: 4, y: -6 }
      n: 3
      lps: 3
      sizes: [3, 1]
      masses: [1, 1]
      gravityIsLocal: yes
      eachConstraint: [angle, body, 1, -90]
    - <<: *ht
      name: htB
      pos: { x: 5, y: 2 }
  anims:
    emoHappy:
      channels:
        - target: [body, pos]
          alpha: 200
          keyframes:
            - [0.1, { x: 0, y: 0 }, easeInOutSine]
            - [0.1, { x: -2, y: 0 }, easeInOutSine]
            - [0.1, { x: 0, y: 0 }, easeInOutSine]
            - [0.1, { x: -2, y: 0 }, easeInOutSine]
            - [0, { x: 0, y: 0 }]
        - &squishEye
          target: [rightEye, scale]
          alpha: 100
          keyframes:
            - [0.1, { x: 1, y: 3 }]
            - [0.2, { x: 3, y: 1 }]
            - [0.1, { x: 3, y: 1 }]
            - [0, { x: 1, y: 3 }]
        - <<: *squishEye
          target: [leftEye, scale]
  kinematics:
    look:
      origin: body
      target: gazeTarget
    initial: flying
    states:
      flying:
        gravityScale: 0
hooks:
  action1: [as, [my, owner], bePlayer]
